function ready(e){"loading"!=document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&e()})}function gAddEvent(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,t)}function gRemoveEvent(e,n,t){e.removeEventListener?e.removeEventListener(n,t,!1):e.detachEvent&&e.detachEvent("on"+n,t)}function gAddClass(e,n){e.classList?e.classList.add(n):e.className+=" "+n}function gRemoveClass(e,n){e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")}function gHasClass(e,n){return e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className)}function gToggleClass(e,n){if(e.classList)e.classList.toggle(n);else{var t=e.className.split(" "),a=t.indexOf(n);a>=0?t.splice(a,1):t.push(n),e.className=t.join(" ")}}function gArrayRemoveClass(e,n){[].forEach.call(e,function(e,t,a){gRemoveClass(e,n)})}function gArrayAddClass(e,n){[].forEach.call(e,function(e,t,a){gAddClass(e,n)})}function isIntoScreen(e){var n=e.getBoundingClientRect().top,t=e.getBoundingClientRect().bottom;return"about-me"==e.id?50>=n&&t>=50:"work"==e.id?50>=n&&1.2*t>=window.innerHeight:n<=window.innerHeight&&t>=window.innerHeight-3}function urlHash(){var e=window.location.hash,n=document.getElementsByClassName("nav__current");n.length&&gRemoveClass(n[0],"nav__current"),e&&"#"!=e?"#about-me"==e?gAddClass(document.getElementById("menu-about-me"),"nav__current"):"#work"==e?gAddClass(document.getElementById("menu-work"),"nav__current"):"#contact"==e&&gAddClass(document.getElementById("menu-contact"),"nav__current"):window.location.hash="#!"}!function(){var e=function(e,n,t){var t=t||window,a=!1,o=function(){a||(a=!0,requestAnimationFrame(function(){t.dispatchEvent(new CustomEvent(n)),a=!1}))};t.addEventListener(e,o)};e("scroll","opScroll"),e("resize","opResize")}();var navBar,navBarHeight,navLimit,scrollEvt;gAddEvent(window,"load",function(e){gAddEvent(window.applicationCache,"updateready",function(e){window.applicationCache.status==window.applicationCache.UPDATEREADY&&(console.info("New web version available"),window.applicationCache.swapCache(),window.location.reload())})});var cb=function(){var e=document.createElement("link");e.rel="stylesheet",e.href="styles/main.min.css";var n=document.getElementsByTagName("head")[0];n.parentNode.insertBefore(e,n)},raf=requestAnimationFrame||mozRequestAnimationFrame||webkitRequestAnimationFrame||msRequestAnimationFrame;raf?raf(cb):window.addEventListener("load",cb),ready(function(){var e=document.getElementById("tuckedMenu"),n=document.getElementById("toggle");navBar=document.getElementById("navBar"),navBarHeight=navBar.getBoundingClientRect().height,navLimit=window.innerHeight-navBarHeight,urlHash();var t=document.getElementsByTagName("video")[0];window.innerWidth>=1024?(t.preload="true",t.autoplay="true",gAddEvent(t,"loadeddata",function(){console.log("Video: loaded"),t.play(),gAddClass(document.body,"loaded")})):gAddClass(document.body,"loaded");var a=["Programmer - an organism that turns coffee into software.","Programming is like sex. One mistake and you have to support it for the rest of your life. - Michael Sinz","Talk is cheap. Show me the code. - Linus Torvalds","It's not a bug. It's an undocumented feature."],o=document.getElementById("cover-subtitle");o.textContent=a[Math.floor(4*Math.random()+0)],gAddEvent(document.getElementById("toggle"),"click",function(t){gToggleClass(e,"nav__open"),gToggleClass(n,"x"),navBarHeight=navBar.getBoundingClientRect().height,navLimit=window.innerHeight-navBarHeight}),scrollEvt=window.CustomEvent?new CustomEvent("opScroll"):document.createEvent("opScroll"),gAddEvent(window,"opScroll",function(e){window.pageYOffset>navLimit?gHasClass(navBar,"nav-background")||gAddClass(navBar,"nav-background"):gHasClass(navBar,"nav-background")&&gRemoveClass(navBar,"nav-background");var n=document.getElementsByClassName("nav__current");n.length&&gRemoveClass(n[0],"nav__current"),isIntoScreen(document.getElementById("about-me"))?gAddClass(document.getElementById("menu-about-me"),"nav__current"):isIntoScreen(document.getElementById("work"))?gAddClass(document.getElementById("menu-work"),"nav__current"):isIntoScreen(document.getElementById("contact"))&&gAddClass(document.getElementById("menu-contact"),"nav__current")}),gAddEvent(window,"opResize",function(){navBarHeight=navBar.getBoundingClientRect().height,navLimit=window.innerHeight-navBarHeight,window.dispatchEvent(scrollEvt)}),gAddEvent(window,"hashchange",function(){urlHash()}),console.info("Welcome")});
//# sourceMappingURL=common.js.map
